@page "/administration/events"
@attribute [Authorize(Policy = "Admin.Events.*")]
@inject Microsoft.Extensions.Localization.IStringLocalizer<App> Localize

@using Microsoft.AspNetCore.Authorization
@using NetEvent.Client.Components
@using NetEvent.Client.Components.Administration
@using NetEvent.Shared.Config



<MudPaper Class="d-flex align-stretch flex-wrap gap-4 ma-4" Elevation="0">

    <MudButton Class="d-flex flex-grow-1 flex-column" Style="width: 200px; max-width: 300px;" Variant="Variant.Outlined" Color="Color.Primary" StartIcon="@Icons.Material.Outlined.Add" Href="@GetEventLink("new")">@Localize["Administration.Events.Event.Create"]</MudButton>

    @if (_Loading)
    {
        <NetEventLoading />
    }

    @foreach (var eventDto in _Events)
    {
        <MudCard Class="d-flex flex-grow-1 flex-column" Style="width: 200px; max-width: 300px;">
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText Typo="Typo.h6">@eventDto.Name</MudText>
                </CardHeaderContent>
                <CardHeaderActions>
                    <MudText>@eventDto.Id</MudText>
                    @*<MudIconButton Icon="@Icons.Material.Filled.Settings" Color="Color.Default" />*@
                </CardHeaderActions>
            </MudCardHeader>
            <MudCardContent>
                <MudText>@eventDto.Description</MudText>
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Text" Color="Color.Primary" Href="@GetEventLink(eventDto.Id!)" StartIcon="@Icons.Material.Outlined.Edit">@Localize["Administration.Events.Event.Edit"]</MudButton>
            </MudCardActions>
        </MudCard>
    }
</MudPaper>







